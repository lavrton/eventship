'use strict';

angular.module('mie.utils', []).factory('utils', function () {
    var token = /d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,
        pad = function pad(val_, len_) {
        var val = String(val_);
        var len = len_ || 2;
        while (val.length < len) {
            val = '0' + val;
        }
        return val;
    };
    var dateFormat = function dateFormat(date, mask) {
        if (!date) {
            throw SyntaxError('invalid date');
        }
        // Allow setting the utc argument via the mask
        if (mask.slice(0, 4) === 'UTC:') {
            mask = mask.slice(4);
        }
        var d = date.getDate(),
            m = date.getMonth(),
            y = date.getFullYear(),
            flags = {
            dd: pad(d),
            mm: pad(m + 1),
            yyyy: y
        };
        return mask.replace(token, function ($0) {
            return $0 in flags ? flags[$0] : $0.slice(1, $0.length - 1);
        });
    };

    function formatDate(date, mask) {
        return dateFormat(date, mask);
    }

    var cache = {};
    var Utils = {
        formatDate: formatDate,
        findWeekId: function findWeekId(dayDate) {
            var cached = cache[dayDate.toDateString()];
            if (cached) {
                return cached;
            }
            var date;
            if (dayDate.getDay() === 1) {
                date = new Date(dayDate.toString());
            } else {
                var tempDate = new Date(dayDate.toString());
                while (true) {
                    tempDate.setDate(tempDate.getDate() - 1);
                    if (tempDate.getMonth() !== dayDate.getMonth() || tempDate.getDay() === 0) {
                        var weekDate = new Date(tempDate.toString());
                        weekDate.setDate(tempDate.getDate() + 1);
                        date = weekDate;
                        break;
                    }
                }
            }
            var result = formatDate(date, 'yyyy-mm-dd');
            cache[dayDate.toDateString()] = result;
            return result;
        },
        findMonthId: function findMonthId(dayDate) {
            return formatDate(dayDate, 'yyyy-mm');
        },
        findQuarterId: function findQuarterId(dayDate) {
            return formatDate(dayDate, 'yyyy') + '-' + (Math.floor(dayDate.getMonth() / 3) + 1);
        },
        findYearId: function findYearId(dayDate) {
            return formatDate(dayDate, 'yyyy');
        }
    };
    return Utils;
}).factory('isOnline', function () {
    var domains = ['www.google.com', 'www.cloudflare.com', 'www.baidu.com', 'www.yandex.ru'];

    function testUrl(url) {
        return new Promise(function (resolve, reject) {
            try {
                var img = new Image();

                img.onload = function () {
                    resolve(true);
                };

                img.onerror = function () {
                    resolve(false);
                };

                img.src = url;
            } catch (ex) {
                reject(ex);
            }
        });
    }

    function isOnline() {
        return Promise.all(domains.map(function (domain) {
            return testUrl('//' + domain + '/favicon.ico?' + Date.now());
        })).then(function (results) {
            return results.reduce(function (pr, cr) {
                return pr && cr;
            });
        });
    }

    return isOnline;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsT0FBTyxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsRUFBRSxDQUFDLENBQzFCLE9BQU8sQ0FBQyxPQUFPLEVBQUUsWUFBTTtBQUNwQixRQUFJLEtBQUssR0FBRyxnRUFBZ0U7UUFBRSxHQUFHLEdBQUcsU0FBTixHQUFHLENBQWEsSUFBSSxFQUFFLElBQUksRUFBRTtBQUN0RyxZQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDdkIsWUFBSSxHQUFHLEdBQUcsSUFBSSxJQUFJLENBQUMsQ0FBQztBQUNwQixlQUFPLEdBQUcsQ0FBQyxNQUFNLEdBQUcsR0FBRyxFQUFFO0FBQ3JCLGVBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1NBQ25CO0FBQ0QsZUFBTyxHQUFHLENBQUM7S0FDZCxDQUFDO0FBQ0YsUUFBSSxVQUFVLEdBQUcsU0FBYixVQUFVLENBQWEsSUFBSSxFQUFFLElBQUksRUFBRTtBQUNuQyxZQUFJLENBQUMsSUFBSSxFQUFFO0FBQ1Asa0JBQU0sV0FBVyxDQUFDLGNBQWMsQ0FBQyxDQUFDO1NBQ3JDOztBQUVELFlBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssTUFBTSxFQUFFO0FBQzdCLGdCQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN4QjtBQUNELFlBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFO1lBQUUsS0FBSyxHQUFHO0FBQ3pFLGNBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQ1YsY0FBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2QsZ0JBQUksRUFBRSxDQUFDO1NBQ1YsQ0FBQztBQUNGLGVBQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsVUFBVSxFQUFFLEVBQUU7QUFDckMsbUJBQU8sRUFBRSxJQUFJLEtBQUssR0FBRyxLQUFLLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztTQUMvRCxDQUFDLENBQUM7S0FDTixDQUFDOztBQUVGLGFBQVMsVUFBVSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUU7QUFDNUIsZUFBTyxVQUFVLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQ2pDOztBQUdELFFBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQztBQUNmLFFBQUksS0FBSyxHQUFHO0FBQ1Isa0JBQVUsRUFBRSxVQUFVO0FBQ3RCLGtCQUFVLEVBQUUsb0JBQVUsT0FBTyxFQUFFO0FBQzNCLGdCQUFJLE1BQU0sR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBRSxDQUFDLENBQUM7QUFDM0MsZ0JBQUksTUFBTSxFQUFFO0FBQ1IsdUJBQU8sTUFBTSxDQUFDO2FBQ2pCO0FBQ0QsZ0JBQUksSUFBSSxDQUFDO0FBQ1QsZ0JBQUksT0FBTyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsRUFBRTtBQUN4QixvQkFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO2FBQ3ZDLE1BQ0k7QUFDRCxvQkFBSSxRQUFRLEdBQUcsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7QUFDNUMsdUJBQU8sSUFBSSxFQUFFO0FBQ1QsNEJBQVEsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQ3pDLHdCQUFJLEFBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxLQUFLLE9BQU8sQ0FBQyxRQUFRLEVBQUUsSUFBSyxRQUFRLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxFQUFFO0FBQ3pFLDRCQUFJLFFBQVEsR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztBQUM3QyxnQ0FBUSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDekMsNEJBQUksR0FBRyxRQUFRLENBQUM7QUFDaEIsOEJBQU07cUJBQ1Q7aUJBQ0o7YUFDSjtBQUNELGdCQUFJLE1BQU0sR0FBRyxVQUFVLENBQUMsSUFBSSxFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQzVDLGlCQUFLLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDO0FBQ3ZDLG1CQUFPLE1BQU0sQ0FBQztTQUNqQjtBQUNELG1CQUFXLEVBQUUscUJBQVUsT0FBTyxFQUFFO0FBQzVCLG1CQUFPLFVBQVUsQ0FBQyxPQUFPLEVBQUUsU0FBUyxDQUFDLENBQUM7U0FDekM7QUFDRCxxQkFBYSxFQUFFLHVCQUFVLE9BQU8sRUFBRTtBQUM5QixtQkFBTyxVQUFVLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxHQUFHLEdBQUcsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUEsQUFBQyxDQUFDO1NBQ3ZGO0FBQ0Qsa0JBQVUsRUFBRSxvQkFBVSxPQUFPLEVBQUU7QUFDM0IsbUJBQU8sVUFBVSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztTQUN0QztLQUNKLENBQUM7QUFDRixXQUFPLEtBQUssQ0FBQztDQUNoQixDQUFDLENBRUQsT0FBTyxDQUFDLFVBQVUsRUFBRSxZQUFNO0FBQ3ZCLFFBQUksT0FBTyxHQUFHLENBQ1YsZ0JBQWdCLEVBQ2hCLG9CQUFvQixFQUNwQixlQUFlLEVBQ2YsZUFBZSxDQUNsQixDQUFDOztBQUVGLGFBQVMsT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUNsQixlQUFPLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxFQUFFLE1BQU0sRUFBSztBQUNwQyxnQkFBSTtBQUNBLG9CQUFJLEdBQUcsR0FBRyxJQUFJLEtBQUssRUFBRSxDQUFDOztBQUV0QixtQkFBRyxDQUFDLE1BQU0sR0FBRyxZQUFZO0FBQ3JCLDJCQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7aUJBQ2pCLENBQUM7O0FBRUYsbUJBQUcsQ0FBQyxPQUFPLEdBQUcsWUFBWTtBQUN0QiwyQkFBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO2lCQUNsQixDQUFDOztBQUVGLG1CQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQzthQUNqQixDQUFDLE9BQU8sRUFBRSxFQUFFO0FBQ1Qsc0JBQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQzthQUNkO1NBQ0osQ0FBQyxDQUFDO0tBRU47O0FBRUQsYUFBUyxRQUFRLEdBQUc7QUFDaEIsZUFBTyxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsVUFBQyxNQUFNLEVBQUs7QUFDdkMsbUJBQU8sT0FBTyxDQUFDLElBQUksR0FBRyxNQUFNLEdBQUcsZUFBZSxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO1NBQ2hFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFDLE9BQU8sRUFBSztBQUNsQixtQkFBTyxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQUMsRUFBRSxFQUFFLEVBQUUsRUFBSztBQUM5Qix1QkFBTyxFQUFFLElBQUksRUFBRSxDQUFDO2FBQ25CLENBQUMsQ0FBQztTQUNOLENBQUMsQ0FBQztLQUNOOztBQUVELFdBQU8sUUFBUSxDQUFDO0NBQ25CLENBQUMsQ0FBQSIsImZpbGUiOiJ1dGlscy5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdtaWUudXRpbHMnLCBbXSlcbiAgICAuZmFjdG9yeSgndXRpbHMnLCAoKSA9PiB7XG4gICAgICAgIHZhciB0b2tlbiA9IC9kezEsNH18bXsxLDR9fHl5KD86eXkpP3woW0hoTXNUdF0pXFwxP3xbTGxvU1pdfFwiW15cIl0qXCJ8J1teJ10qJy9nLCBwYWQgPSBmdW5jdGlvbiAodmFsXywgbGVuXykge1xuICAgICAgICAgICAgdmFyIHZhbCA9IFN0cmluZyh2YWxfKTtcbiAgICAgICAgICAgIHZhciBsZW4gPSBsZW5fIHx8IDI7XG4gICAgICAgICAgICB3aGlsZSAodmFsLmxlbmd0aCA8IGxlbikge1xuICAgICAgICAgICAgICAgIHZhbCA9ICcwJyArIHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBkYXRlRm9ybWF0ID0gZnVuY3Rpb24gKGRhdGUsIG1hc2spIHtcbiAgICAgICAgICAgIGlmICghZGF0ZSkge1xuICAgICAgICAgICAgICAgIHRocm93IFN5bnRheEVycm9yKCdpbnZhbGlkIGRhdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEFsbG93IHNldHRpbmcgdGhlIHV0YyBhcmd1bWVudCB2aWEgdGhlIG1hc2tcbiAgICAgICAgICAgIGlmIChtYXNrLnNsaWNlKDAsIDQpID09PSAnVVRDOicpIHtcbiAgICAgICAgICAgICAgICBtYXNrID0gbWFzay5zbGljZSg0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkID0gZGF0ZS5nZXREYXRlKCksIG0gPSBkYXRlLmdldE1vbnRoKCksIHkgPSBkYXRlLmdldEZ1bGxZZWFyKCksIGZsYWdzID0ge1xuICAgICAgICAgICAgICAgIGRkOiBwYWQoZCksXG4gICAgICAgICAgICAgICAgbW06IHBhZChtICsgMSksXG4gICAgICAgICAgICAgICAgeXl5eTogeVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBtYXNrLnJlcGxhY2UodG9rZW4sIGZ1bmN0aW9uICgkMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAkMCBpbiBmbGFncyA/IGZsYWdzWyQwXSA6ICQwLnNsaWNlKDEsICQwLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gZm9ybWF0RGF0ZShkYXRlLCBtYXNrKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0ZUZvcm1hdChkYXRlLCBtYXNrKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgbGV0IGNhY2hlID0ge307XG4gICAgICAgIHZhciBVdGlscyA9IHtcbiAgICAgICAgICAgIGZvcm1hdERhdGU6IGZvcm1hdERhdGUsXG4gICAgICAgICAgICBmaW5kV2Vla0lkOiBmdW5jdGlvbiAoZGF5RGF0ZSkge1xuICAgICAgICAgICAgICAgIHZhciBjYWNoZWQgPSBjYWNoZVtkYXlEYXRlLnRvRGF0ZVN0cmluZygpXTtcbiAgICAgICAgICAgICAgICBpZiAoY2FjaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBkYXRlO1xuICAgICAgICAgICAgICAgIGlmIChkYXlEYXRlLmdldERheSgpID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZShkYXlEYXRlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXBEYXRlID0gbmV3IERhdGUoZGF5RGF0ZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBEYXRlLnNldERhdGUodGVtcERhdGUuZ2V0RGF0ZSgpIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHRlbXBEYXRlLmdldE1vbnRoKCkgIT09IGRheURhdGUuZ2V0TW9udGgoKSkgfHwgdGVtcERhdGUuZ2V0RGF5KCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2Vla0RhdGUgPSBuZXcgRGF0ZSh0ZW1wRGF0ZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWVrRGF0ZS5zZXREYXRlKHRlbXBEYXRlLmdldERhdGUoKSArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUgPSB3ZWVrRGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gZm9ybWF0RGF0ZShkYXRlLCAneXl5eS1tbS1kZCcpO1xuICAgICAgICAgICAgICAgIGNhY2hlW2RheURhdGUudG9EYXRlU3RyaW5nKCldID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmluZE1vbnRoSWQ6IGZ1bmN0aW9uIChkYXlEYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdERhdGUoZGF5RGF0ZSwgJ3l5eXktbW0nKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaW5kUXVhcnRlcklkOiBmdW5jdGlvbiAoZGF5RGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXREYXRlKGRheURhdGUsICd5eXl5JykgKyAnLScgKyAoTWF0aC5mbG9vcihkYXlEYXRlLmdldE1vbnRoKCkgLyAzKSArIDEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbmRZZWFySWQ6IGZ1bmN0aW9uIChkYXlEYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdERhdGUoZGF5RGF0ZSwgJ3l5eXknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFV0aWxzO1xuICAgIH0pXG5cbiAgICAuZmFjdG9yeSgnaXNPbmxpbmUnLCAoKSA9PiB7XG4gICAgICAgIGxldCBkb21haW5zID0gW1xuICAgICAgICAgICAgJ3d3dy5nb29nbGUuY29tJyxcbiAgICAgICAgICAgICd3d3cuY2xvdWRmbGFyZS5jb20nLFxuICAgICAgICAgICAgJ3d3dy5iYWlkdS5jb20nLFxuICAgICAgICAgICAgJ3d3dy55YW5kZXgucnUnXG4gICAgICAgIF07XG5cbiAgICAgICAgZnVuY3Rpb24gdGVzdFVybCh1cmwpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGltZyA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGltZy5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgaW1nLnNyYyA9IHVybDtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpc09ubGluZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChkb21haW5zLm1hcCgoZG9tYWluKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRlc3RVcmwoJy8vJyArIGRvbWFpbiArICcvZmF2aWNvbi5pY28/JyArIERhdGUubm93KCkpO1xuICAgICAgICAgICAgfSkpLnRoZW4oKHJlc3VsdHMpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cy5yZWR1Y2UoKHByLCBjcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHIgJiYgY3I7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpc09ubGluZTtcbiAgICB9KVxuIl0sInNvdXJjZVJvb3QiOiIuLi8uLi9qc3NyYyJ9